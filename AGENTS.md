make theRealPath work in all cenarios